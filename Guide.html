<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENCA MPE Ultra Continuum - Master Manual</title>
    <style>
        :root {
            --bg-color: #0f0f0f;
            --section-bg: #1a1a1a;
            --accent-color: #00ff99; /* Ghost Circle Green */
            --text-color: #e0e0e0;
            --text-muted: #a0a0a0;
            --border-color: #333;
            --header-bg: #000;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: var(--header-bg);
            padding: 2.5rem 1rem;
            text-align: center;
            border-bottom: 2px solid var(--accent-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        header h1 {
            margin: 0;
            font-size: 2.5rem;
            letter-spacing: 2px;
            color: var(--accent-color);
            text-transform: uppercase;
        }

        header p {
            margin: 0.5rem 0 0;
            color: var(--text-muted);
            font-style: italic;
            font-size: 1.1rem;
        }

        nav {
            background: #222;
            padding: 1rem;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            position: sticky;
            top: 118px; /* Adjusted based on header height */
            z-index: 90;
            border-bottom: 1px solid var(--border-color);
        }

        nav a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: bold;
            padding: 5px 12px;
            border-radius: 4px;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        nav a:hover {
            background: var(--accent-color);
            color: #000;
            border-color: #fff;
        }

        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        section {
            background-color: var(--section-bg);
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h2 {
            color: var(--accent-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.8rem;
            margin-top: 0;
            font-size: 1.8rem;
        }

        h3 {
            color: #fff;
            margin-top: 1.8rem;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        h3::before {
            content: "â–¶";
            color: var(--accent-color);
            font-size: 0.8rem;
            margin-right: 10px;
        }

        /* --- Video Embed Styles --- */
        .video-wrapper {
            background: #000;
            padding: 10px;
            border-radius: 12px;
            border: 1px solid var(--accent-color);
            margin: 2rem 0;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        ul { padding-left: 1.5rem; }
        li { margin-bottom: 0.8rem; }
        
        code {
            background: #000;
            color: var(--accent-color);
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            font-size: 0.95rem;
        }

        .pro-tip {
            background: rgba(0, 255, 153, 0.07);
            border-left: 5px solid var(--accent-color);
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            border-radius: 0 8px 8px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: #111;
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            text-align: left;
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: #000;
            color: var(--accent-color);
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        footer {
            text-align: center;
            padding: 4rem;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }

        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }

        @media (max-width: 768px) {
            nav { position: relative; top: 0; }
            header h1 { font-size: 1.8rem; }
            section { padding: 1.5rem; }
        }
    </style>
</head>
<body>

<header>
    <h1>GENCA MPE Ultra Continuum</h1>
    <p>Hybrid Synthesizer & Sampler - Official Master Manual</p>
</header>

<nav>
    <a href="#intro">Overview</a>
    <a href="#quickstart">Quick Start</a>
    <a href="#performance">Performance Bar</a>
    <a href="#midi">MIDI &amp; Synth</a>
    <a href="#sampler">Sampler</a>
    <a href="#scale">Scale &amp; Harmony</a>
    <a href="#melody">Melody Generator</a>
    <a href="#recording">Recording</a>
    <a href="#troubleshooting">Troubleshooting</a>
</nav>

<main>
    <section id="intro">
        <h2>Overview</h2>
        <p>The <strong>GENCA MPE Ultra Continuum</strong> is a browser-based performance instrument that combines a <strong>Wavetable Synth</strong>, a <strong>Multi-Sampler</strong>, and a full <strong>MPE control system</strong>. It can act as a sound source, a MIDI controller, or both at once.</p>
        <p>Play directly on the canvas with touch/mouse, or connect external MIDI devices. The app supports <strong>per-note expression</strong> (pitch, press, timbre), scale snapping, chords, arpeggios, and a built-in <strong>melody generator</strong>.</p>
    </section>

    <section id="quickstart">
        <h2>Quick Start</h2>
        <ol>
            <li>Click anywhere once to enable audio (Chrome requires a user gesture).</li>
            <li>Open <strong>MIDI &amp; SYNTH</strong> and choose <code>MIDI In</code>/<code>MIDI Out</code> if needed.</li>
            <li>Turn on <strong>Internal Synth</strong> to hear audio without external gear.</li>
            <li>With <strong>Internal Synth ON</strong> you can play sounds ONLY SYNTH, ONLY SAMPLER, or MIX between them.</li>
            <li>Play on the canvas or via MIDI. Use <strong>Scale</strong> to snap notes.</li>
        </ol>
        <div class="pro-tip">
            <strong>Tip:</strong> If no sound, click the page and toggle <code>Internal Synth</code> off/on.
        </div>
    </section>

    <section id="performance">
        <h2>Performance Bar (Bottom)</h2>
        <p>The bottom bar has two layouts, toggled by the performance button in the top bar.</p>
        <h3>Compact Layout</h3>
        <ul>
            <li><strong>Transpose:</strong> Shift the octave up/down.</li>
            <li><strong>KEEP:</strong> Holds what was captured at the moment of activation, even if HOLD is off. Notes remain draggable.</li>
            <li><strong>HOLD:</strong> Latches current notes or chords.</li>
            <li><strong>STOP:</strong> Panic stop for all notes.</li>
            <li><strong>FADE:</strong> Smoothly fades notes (seconds at the right).</li>
            <li><strong>CHORD:</strong> Chord mode control.</li>
            <li><strong>ARP:</strong> Arpeggiator on/off and rate.</li>
        </ul>
        <h3>Alternate Layout</h3>
        <ul>
            <li><strong>MIX:</strong> Opens the overlay faders.</li>
            <li><strong>MELODY:</strong> Toggles the generator.</li>
            <li><strong>FX:</strong> Opens the FX panel.</li>
        </ul>
    </section>

    <section id="midi">
        <h2>MIDI &amp; Synth</h2>
        <ul>
            <li><strong>MIDI In/Out:</strong> Select hardware or virtual ports. Defaults to "Scegli Input/Output".</li>
            <li><strong>MPE Out:</strong> Enables per-note MPE output to external synths.</li>
            <li><strong>Internal Synth:</strong> Use the wavetable engine without external MIDI.</li>
            <li><strong>Thru:</strong> Pass incoming MIDI to the selected output.</li>
        </ul>
    </section>

    <section id="sampler">
        <h2>Sampler</h2>
        <ul>
            <li><strong>Factory &amp; User Sets:</strong> Load a factory set or create your own.</li>
            <li><strong>Slots:</strong> Each slot has root note and gain for multi-sampled instruments.</li>
            <li><strong>Layering:</strong> Mix sampler with synth using the MIX controls.</li>
        </ul>
    </section>

    <section id="scale">
        <h2>Scale &amp; Harmony</h2>
        <ul>
            <li><strong>Scale Presets:</strong> Choose a tuning or custom scale.</li>
            <li><strong>Microtonal:</strong> Set cents offsets for precise tuning.</li>
            <li><strong>Chord Modes:</strong> Auto-diatonic, triads, sevenths, and more.</li>
            <li><strong>Arp + Chord:</strong> Arpeggiator can keep running with KEEP active.</li>
        </ul>
    </section>

    <section id="melody">
        <h2>Melody Generator</h2>
        <p>The melody engine can generate, import, and continue phrases.</p>
        <h3>Base Generator</h3>
        <ul>
            <li><strong>Style, Density, Range, Length:</strong> Shape the basic melody.</li>
            <li><strong>Rules &amp; Rhythm Patterns:</strong> Control stepwise motion and rhythmic masks.</li>
            <li><strong>Humanize:</strong> Velocity, Swing, Legato, MPE Press, MPE Timbre, Y Virtual Motion.</li>
            <li><strong>MPE per Note:</strong> One channel per note for full expression.</li>
        </ul>
        <h3>Import &amp; Continue</h3>
        <ul>
            <li><strong>Import (Fast):</strong> Quick note detection from WAV.</li>
            <li><strong>Advanced Import:</strong> Magenta transcription for higher pitch accuracy.</li>
            <li><strong>Continue:</strong> Magenta generates a continuation with adjustable temperature and rhythm similarity.</li>
            <li><strong>Auto Regenerate:</strong> Updates the continuation when parameters change.</li>
        </ul>
        <h3>Save / Load</h3>
        <ul>
            <li><strong>Save Melody:</strong> Stores notes, humanize, rules, rhythm pattern, and scale.</li>
            <li><strong>Load Melody:</strong> Recalls the full configuration.</li>
        </ul>
    </section>
    
    <section id="recording">
        <h2>Recording</h2>
        <p>Use the top recording bar to capture audio:</p>
        <ol>
            <li>Press <strong>Record</strong>.</li>
            <li>Press <strong>Stop</strong> to save.</li>
            <li>Trim the recording in the editor and export WAV.</li>
        </ol>
    </section>

    <section id="troubleshooting">
        <h2>Troubleshooting</h2>
        <ul>
            <li><strong>No sound:</strong> Click once to enable audio, then toggle Internal Synth.</li>
            <li><strong>MIDI not visible:</strong> Refresh the page after connecting the device.</li>
            <li><strong>Advanced Import not working:</strong> Ensure the Magenta model loads (internet needed).</li>
        </ul>
    </section>
</main>

<footer>
    <p>Manual generated for GENCA MPE Ultra Continuum User Community.</p>
    <p>&copy; 2026 GENCA Hybrid Audio Tools - Designed for Expressive Musicians.</p>
</footer>

</body>
</html>
